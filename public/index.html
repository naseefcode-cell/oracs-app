<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-adsense-account" content="ca-pub-5671202996488643">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#0A84FF">
    <title>ThereIn - the loudspeaker of the world.</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <meta name="description" content="ThereIn - A collaborative platform for researchers to share findings, discuss discoveries, and advance scientific knowledge across multiple disciplines.">
<meta name="keywords" content="research, science, academic papers, neuroscience, climate science, computer science, biology, physics, medicine, collaboration">
<meta name="author" content="ThereIn">
<meta name="robots" content="index, follow, max-snippet:150, max-image-preview:large">

<!-- Open Graph Tags -->
<meta property="og:title" content="ThereIn - The Loudspeaker of the World">
<meta property="og:description" content="A collaborative platform for researchers to share findings and advance scientific knowledge.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://www.therein.in/">
<meta property="og:image" content="https://www.therein.in/android-chrome-512x512.png">
<meta property="og:site_name" content="ThereIn">

<!-- Twitter Card Tags -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="ThereIn - The Loudspeaker of the World">
<meta name="twitter:description" content="A collaborative platform for researchers to share findings and advance scientific knowledge.">
<meta name="twitter:image" content="https://www.therein.in/android-chrome-512x512.png">
<meta name="twitter:creator" content="@ThereInOfficial">


</head>
<body>
    
    <div id="appContainer" class="min-h-screen bg-gray-50 flex flex-col">
        <!-- Main Header/Navigation -->
        <header id="mainHeader" class="sticky top-0 z-40 bg-white shadow-md">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center justify-between h-16">
                    <!-- Logo and App Name -->
                    <div class="flex items-center">
                        <a href="#home" onclick="showPage('homePage'); renderPosts(posts);" class="flex items-center text-xl font-bold text-gray-900 hover:text-blue-600 transition duration-150">
                            <i class="fas fa-satellite-dish text-blue-600 mr-2"></i>
                            ResearchHub
                        </a>
                    </div>
                    
                    <!-- Search Bar (Middle) -->
                    <div class="flex-1 max-w-lg mx-4 hidden md:block">
                        <div class="relative">
                            <input type="text" id="searchInput" placeholder="Search for researchers, topics, or keywords..." class="w-full py-2 pl-10 pr-4 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
                            <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                        </div>
                    </div>

                    <!-- User Actions (Right) -->
                    <nav id="userActions" class="flex items-center space-x-4">
                        <!-- Content depends on login status, rendered by script.js -->
                        <!-- Placeholder for logged out state -->
                        <button onclick="showLoginModal()" class="btn-sm btn-outline">Log In</button>
                        <button onclick="showRegisterModal()" class="btn-sm btn-primary">Sign Up</button>
                    </nav>
                </div>
            </div>
            
             <!-- Mobile Search (Hidden by default, shown when needed) -->
            <div id="mobileSearchContainer" class="p-4 border-t border-gray-100 md:hidden hidden">
                <div class="relative">
                    <input type="text" id="mobileSearchInput" placeholder="Search..." class="w-full py-2 pl-10 pr-4 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150">
                    <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                </div>
            </div>
        </header>

        <!-- Notification Panel (Hidden initially) -->
        <div id="notificationPanel" class="fixed right-0 top-16 w-80 bg-white shadow-xl rounded-lg border border-gray-100 z-50 transform translate-x-full transition-transform duration-300">
            <div class="p-4 border-b flex justify-between items-center">
                <h3 class="text-lg font-semibold text-gray-800">Notifications</h3>
                <div>
                    <button onclick="markAllNotificationsAsRead()" class="text-sm text-blue-600 hover:text-blue-700 mr-2">Mark All Read</button>
                    <button onclick="clearAllNotifications()" class="text-sm text-red-500 hover:text-red-600">Clear All</button>
                </div>
            </div>
            <ul id="notificationsList" class="divide-y divide-gray-100 max-h-96 overflow-y-auto">
                <li class="p-4 text-center text-gray-500 loading">
                    <i class="fas fa-spinner loading-spinner"></i>
                    <div class="mt-2">Loading notifications...</div>
                </li>
            </ul>
        </div>

        <!-- Main Content Area -->
        <main class="flex-1 container mx-auto px-4 sm:px-6 lg:px-8 py-6">
            
            <!-- Message/Toast Container -->
            <div id="messageContainer" class="fixed top-20 right-4 z-50 space-y-2">
                <!-- Messages will be injected here -->
            </div>
            
            <!-- Pages -->
            <div id="pagesContainer" class="relative">
                
                <!-- Home Page -->
                <section id="homePage" class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    
                    <!-- Left Sidebar (Desktop only) -->
                    <div class="hidden lg:block lg:col-span-1">
                        <!-- Navigation and Filters -->
                        <div class="sticky top-20 bg-white p-6 rounded-xl shadow-lg border border-gray-100">
                            <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center"><i class="fas fa-compass text-blue-500 mr-2"></i> Discover</h3>
                            <nav class="space-y-2">
                                <a href="#" onclick="switchFeed('all')" id="feed-all" class="flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition duration-150 active-feed"><i class="fas fa-globe-americas mr-3 w-5"></i> Global Feed</a>
                                <a href="#" onclick="switchFeed('following')" id="feed-following" class="flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition duration-150"><i class="fas fa-users mr-3 w-5"></i> Following</a>
                                <a href="#" onclick="switchFeed('trending')" id="feed-trending" class="flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition duration-150"><i class="fas fa-fire-alt mr-3 w-5"></i> Trending Topics</a>
                                <a href="#" onclick="switchFeed('my-posts')" id="feed-my-posts" class="flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition duration-150"><i class="fas fa-scroll mr-3 w-5"></i> My Posts</a>
                            </nav>

                            <div class="mt-6 pt-4 border-t border-gray-200">
                                <h4 class="text-md font-semibold text-gray-700 mb-3 flex items-center"><i class="fas fa-sort mr-2"></i> Sort By</h4>
                                <div class="flex flex-wrap gap-2">
                                    <button onclick="switchSort('hot')" id="sort-hot" class="sort-btn active-sort">Hot</button>
                                    <button onclick="switchSort('new')" id="sort-new" class="sort-btn">New</button>
                                    <button onclick="switchSort('old')" id="sort-old" class="sort-btn">Old</button>
                                    <button onclick="switchSort('top')" id="sort-top" class="sort-btn">Top</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Main Feed (Center) -->
                    <div class="lg:col-span-2 space-y-6">
                        
                        <!-- Create Post Section -->
                        <div id="createPostContainer" class="bg-white p-6 rounded-xl shadow-lg border border-gray-100">
                            <h2 class="text-2xl font-semibold text-gray-800 mb-4">Share Your Research</h2>
                            <p class="text-gray-500 mb-4">You must be logged in to create a post.</p>
                            <!-- This will be replaced by the actual form when logged in -->
                        </div>

                        <!-- Main Posts List -->
                        <div id="postsList" class="space-y-6">
                            <!-- Posts will be injected here by renderPosts() -->
                            <div class="p-6 bg-white rounded-xl shadow-lg border border-gray-100 text-center text-gray-500 loading">
                                <i class="fas fa-spinner loading-spinner text-4xl text-blue-500"></i>
                                <div class="mt-4 text-lg">Loading the latest discoveries...</div>
                            </div>
                        </div>
                    </div>

                    <!-- Right Sidebar (Trending Topics - Desktop only) -->
                    <!-- This is hidden on home page currently, as trending is in the center column. -->
                    
                </section>
                
                <!-- Profile Page -->
                <section id="profilePage" class="hidden">
                    <!-- Profile content will be rendered here -->
                    <div class="p-6 bg-white rounded-xl shadow-lg border border-gray-100 text-center text-gray-500 loading">
                        <i class="fas fa-user-circle text-4xl text-blue-500"></i>
                        <div class="mt-4 text-lg">Loading user profile...</div>
                    </div>
                </section>

                 <!-- Notifications Page -->
                <section id="notificationsPage" class="hidden">
                    <h1 class="text-3xl font-bold text-gray-900 mb-6 border-b pb-3">All Notifications</h1>
                    <div id="notificationsContent" class="bg-white p-6 rounded-xl shadow-lg border border-gray-100">
                         <div class="text-center text-gray-500 loading">
                            <i class="fas fa-bell text-4xl text-blue-500"></i>
                            <div class="mt-4 text-lg">Loading all your past notifications...</div>
                        </div>
                    </div>
                </section>
                
                 <!-- Post Detail Page -->
                <section id="postPage" class="hidden">
                    <button onclick="showPage('homePage');" class="text-blue-600 hover:text-blue-800 mb-4 flex items-center"><i class="fas fa-arrow-left mr-2"></i> Back to Feed</button>
                    <div id="postDetailPageContent" class="space-y-6">
                         <div class="p-6 bg-white rounded-xl shadow-lg border border-gray-100 text-center text-gray-500 loading">
                            <i class="fas fa-file-alt text-4xl text-blue-500"></i>
                            <div class="mt-4 text-lg">Loading post details...</div>
                        </div>
                    </div>
                </section>
                
            </div>
            
        </main>

        <!-- Footer -->
        <footer class="bg-gray-800 text-white p-6 mt-10">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <p>&copy; 2024 ResearchHub. All rights reserved. | <a href="#" class="hover:underline">Privacy Policy</a> | <a href="#" class="hover:underline">Terms of Service</a></p>
                <div class="mt-4 space-x-4">
                    <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-linkedin"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-github"></i></a>
                </div>
            </div>
        </footer>
        
    </div>
    
    <!-- MODALS -->

    <!-- Global Message Modal (e.g., for alerts or confirmations) -->
    <div class="modal" id="messageModal">
        <div class="modal-content max-w-sm">
            <div class="modal-header">
                <h2 class="modal-title" id="messageModalTitle">Attention</h2>
                <button class="close-btn" onclick="hideModal('messageModal')">&times;</button>
            </div>
            <div class="modal-body" id="messageModalBody">
                <!-- Message content -->
                <p>This is a custom message.</p>
            </div>
            <div class="modal-footer" id="messageModalFooter">
                <button class="btn btn-secondary" onclick="hideModal('messageModal')">Close</button>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content max-w-md">
            <div class="modal-header">
                <h2 class="modal-title"><i class="fas fa-sign-in-alt mr-2"></i> Welcome Back</h2>
                <button class="close-btn" onclick="hideModal('loginModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="loginForm" class="space-y-4">
                    <div>
                        <label for="loginEmail" class="block text-sm font-medium text-gray-700">Email Address</label>
                        <input type="email" id="loginEmail" name="email" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label for="loginPassword" class="block text-sm font-medium text-gray-700">Password</label>
                        <input type="password" id="loginPassword" name="password" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    
                    <button type="submit" class="btn btn-primary w-full py-3">Log In</button>
                    
                    <button type="button" onclick="showForgotPasswordModal()" class="text-sm text-blue-600 hover:text-blue-700 w-full text-center mt-2">Forgot Password?</button>
                </form>
                <p class="text-center mt-4 text-sm text-gray-600">
                    Don't have an account? <a href="#" onclick="showRegisterModal()" class="text-blue-600 hover:text-blue-700 font-medium">Sign Up</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div class="modal" id="registerModal">
        <div class="modal-content max-w-md">
            <div class="modal-header">
                <h2 class="modal-title"><i class="fas fa-user-plus mr-2"></i> Create Your Account</h2>
                <button class="close-btn" onclick="hideModal('registerModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="registerForm" class="space-y-4">
                     <div>
                        <label for="registerName" class="block text-sm font-medium text-gray-700">Full Name</label>
                        <input type="text" id="registerName" name="name" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label for="registerUsername" class="block text-sm font-medium text-gray-700">Username</label>
                        <input type="text" id="registerUsername" name="username" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-blue-500 focus:border-blue-500">
                        <p class="text-xs text-gray-500 mt-1">3-20 characters, letters, numbers, and underscores only.</p>
                    </div>
                    <div>
                        <label for="registerEmail" class="block text-sm font-medium text-gray-700">Email Address</label>
                        <input type="email" id="registerEmail" name="email" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label for="registerPassword" class="block text-sm font-medium text-gray-700">Password</label>
                        <input type="password" id="registerPassword" name="password" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-blue-500 focus:border-blue-500">
                        <p class="text-xs text-gray-500 mt-1">Must be at least 8 characters long.</p>
                    </div>
                    <button type="submit" class="btn btn-primary w-full py-3">Sign Up</button>
                </form>
                 <p class="text-center mt-4 text-sm text-gray-600">
                    Already have an account? <a href="#" onclick="showLoginModal()" class="text-blue-600 hover:text-blue-700 font-medium">Log In</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Verify OTP Modal -->
    <div class="modal" id="verifyOTPModal">
        <div class="modal-content max-w-sm">
            <div class="modal-header">
                <h2 class="modal-title"><i class="fas fa-check-circle mr-2"></i> Verify Your Email</h2>
                <button class="close-btn" onclick="hideModal('verifyOTPModal')">&times;</button>
            </div>
            <div class="modal-body">
                <p class="text-gray-700 mb-4">A 6-digit verification code has been sent to your email address. Please enter it below.</p>
                <form id="verifyOTPForm" class="space-y-4">
                    <div>
                        <label for="otpCode" class="block text-sm font-medium text-gray-700">Verification Code</label>
                        <input type="text" id="otpCode" name="otp" required maxlength="6" pattern="\d{6}" class="mt-1 block w-full text-center text-2xl tracking-widest border border-gray-300 rounded-md shadow-sm p-3 focus:ring-blue-500 focus:border-blue-500">
                        <input type="hidden" id="otpUserId" name="userId">
                    </div>
                    <button type="submit" class="btn btn-primary w-full py-3">Verify Email</button>
                </form>
                <div class="mt-4 text-center">
                    <button type="button" onclick="resendOTP()" class="text-sm text-blue-600 hover:text-blue-700">Resend Code</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Forgot Password Modal -->
    <div class="modal" id="forgotPasswordModal">
        <div class="modal-content max-w-md">
            <div class="modal-header">
                <h2 class="modal-title"><i class="fas fa-unlock-alt mr-2"></i> Forgot Password</h2>
                <button class="close-btn" onclick="hideModal('forgotPasswordModal')">&times;</button>
            </div>
            <div class="modal-body">
                <p class="text-gray-700 mb-4">Enter your email address and we'll send you a link to reset your password.</p>
                <form id="forgotPasswordForm" class="space-y-4">
                    <div>
                        <label for="forgotEmail" class="block text-sm font-medium text-gray-700">Email Address</label>
                        <input type="email" id="forgotEmail" name="email" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <button type="submit" class="btn btn-primary w-full py-3">Send Reset Link</button>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Reset Password Modal (for token-based reset) -->
    <div class="modal" id="resetPasswordModal">
        <div class="modal-content max-w-md">
            <div class="modal-header">
                <h2 class="modal-title"><i class="fas fa-key mr-2"></i> Reset Password</h2>
                <button class="close-btn" onclick="hideModal('resetPasswordModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="resetPasswordForm" class="space-y-4">
                    <div>
                        <label for="resetPassword" class="block text-sm font-medium text-gray-700">New Password</label>
                        <input type="password" id="resetPassword" name="password" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label for="resetConfirmPassword" class="block text-sm font-medium text-gray-700">Confirm New Password</label>
                        <input type="password" id="resetConfirmPassword" name="confirmPassword" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <input type="hidden" id="resetTokenInput" name="token">
                    <button type="submit" class="btn btn-primary w-full py-3">Set New Password</button>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Change Password Modal (for logged-in users) -->
    <div class="modal" id="changePasswordModal">
        <div class="modal-content max-w-md">
            <div class="modal-header">
                <h2 class="modal-title"><i class="fas fa-lock mr-2"></i> Change Password</h2>
                <button class="close-btn" onclick="hideModal('changePasswordModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="changePasswordForm" class="space-y-4">
                    <div>
                        <label for="currentPassword" class="block text-sm font-medium text-gray-700">Current Password</label>
                        <input type="password" id="currentPassword" name="currentPassword" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label for="newPassword" class="block text-sm font-medium text-gray-700">New Password</label>
                        <input type="password" id="newPassword" name="newPassword" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label for="confirmNewPassword" class="block text-sm font-medium text-gray-700">Confirm New Password</label>
                        <input type="password" id="confirmNewPassword" name="confirmNewPassword" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <button type="submit" class="btn btn-primary w-full py-3">Change Password</button>
                </form>
            </div>
        </div>
    </div>
    
     <!-- Delete Account Confirmation Modal -->
    <div class="modal" id="deleteAccountModal">
        <div class="modal-content max-w-sm">
            <div class="modal-header">
                <h2 class="modal-title text-red-600"><i class="fas fa-exclamation-triangle mr-2"></i> Delete Account</h2>
                <button class="close-btn" onclick="hideModal('deleteAccountModal')">&times;</button>
            </div>
            <div class="modal-body">
                <p class="text-gray-700 mb-4">Are you sure you want to permanently delete your account? This action cannot be undone.</p>
                <form id="deleteAccountForm" class="space-y-4">
                    <div>
                        <label for="deleteAccountPassword" class="block text-sm font-medium text-gray-700">Enter your password to confirm</label>
                        <input type="password" id="deleteAccountPassword" name="password" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-red-500 focus:border-red-500">
                    </div>
                    <button type="submit" class="btn bg-red-600 hover:bg-red-700 text-white w-full py-3">Yes, Delete My Account</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div class="modal" id="editProfileModal">
        <div class="modal-content max-w-lg">
            <div class="modal-header">
                <h2 class="modal-title"><i class="fas fa-edit mr-2"></i> Edit Profile</h2>
                <button class="close-btn" onclick="hideModal('editProfileModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="editProfileForm" class="space-y-4">
                    <div>
                        <label for="editName" class="block text-sm font-medium text-gray-700">Full Name</label>
                        <input type="text" id="editName" name="name" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label for="editUsername" class="block text-sm font-medium text-gray-700">Username</label>
                        <input type="text" id="editUsername" name="username" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-blue-500 focus:border-blue-500" disabled>
                        <p class="text-xs text-gray-500 mt-1">Username cannot be changed after registration.</p>
                    </div>
                    <div>
                        <label for="editBio" class="block text-sm font-medium text-gray-700">Bio</label>
                        <textarea id="editBio" name="bio" rows="3" maxlength="200" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-blue-500 focus:border-blue-500"></textarea>
                        <p class="text-xs text-gray-500 mt-1">Max 200 characters.</p>
                    </div>
                    <div>
                        <label for="editProfilePic" class="block text-sm font-medium text-gray-700">Profile Picture URL</label>
                        <input type="url" id="editProfilePic" name="profilePicture" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-blue-500 focus:border-blue-500">
                        <p class="text-xs text-gray-500 mt-1">Direct link to an image (e.g., from Imgur, Cloudinary, etc.)</p>
                    </div>
                    <button type="submit" class="btn btn-primary w-full py-3">Save Changes</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Followers Modal -->
    <div class="modal" id="followersModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Followers</h2>
                <button class="close-btn" onclick="hideModal('followersModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="follow-list" id="followersList">
                    <div class="loading">
                        <i class="fas fa-spinner loading-spinner"></i>
                        <div class="mt-4">Loading followers...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Following Modal -->
    <div class="modal" id="followingModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Following</h2>
                <button class="close-btn" onclick="hideModal('followingModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="follow-list" id="followingList">
                    <div class="loading">
                        <i class="fas fa-spinner loading-spinner"></i>
                        <div class="mt-4">Loading following...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Share Post Modal -->
    <div class="modal" id="sharePostModal">
        <div class="modal-content max-w-sm">
            <div class="modal-header">
                <h2 class="modal-title"><i class="fas fa-share-alt mr-2"></i> Share Post</h2>
                <button class="close-btn" onclick="hideModal('sharePostModal')">&times;</button>
            </div>
            <div class="modal-body space-y-4">
                <div class="relative">
                    <input type="text" id="postLinkInput" readonly class="w-full border border-gray-300 rounded-lg p-3 pr-20 bg-gray-50 text-gray-700 text-sm">
                    <button onclick="copyPostLink()" class="absolute right-0 top-0 h-full px-4 text-blue-600 hover:text-blue-700 font-medium">Copy</button>
                </div>
                
                <div class="grid grid-cols-2 gap-3">
                    <button onclick="shareOnTwitter()" class="btn btn-social bg-[#1DA1F2] hover:bg-[#1A93E2] text-white"><i class="fab fa-twitter mr-2"></i> Twitter</button>
                    <button onclick="shareOnLinkedIn()" class="btn btn-social bg-[#0A66C2] hover:bg-[#0957A8] text-white"><i class="fab fa-linkedin-in mr-2"></i> LinkedIn</button>
                    <button onclick="shareOnFacebook()" class="btn btn-social bg-[#1877F2] hover:bg-[#166BDD] text-white"><i class="fab fa-facebook-f mr-2"></i> Facebook</button>
                    <button onclick="shareViaEmail()" class="btn btn-social bg-gray-600 hover:bg-gray-700 text-white"><i class="fas fa-envelope mr-2"></i> Email</button>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js">
          if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("/service-worker.js");
  }

    </script>
</body>
</html>
